---
// Login page doesn't need layout if we want a simpler look
// import DashboardLayout from '../layouts/DashboardLayout.astro'; // Or use a simpler Layout.astro
import Layout from '../layouts/Layout.astro'; // Using the basic layout
---

<Layout>
  <div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-gray-100 font-['Space_Grotesk'] p-4">
    <div class="w-full max-w-md bg-gray-800/50 backdrop-blur-xl p-8 rounded-2xl border border-gray-700 shadow-xl">
      <h2 class="text-2xl font-bold tracking-tight g mb-4 text-center">Welcome to Goriber Lekhok</h2>
      <p class="text-gray-300 mb-8 text-center">Sign in to continue</p>

      <div class="space-y-4">
        <a
          href="http://localhost:5000/auth/auth0" class="flex items-center justify-center gap-3 w-full py-3 px-6 bg-indigo-600 text-white rounded-xl font-medium transition-all duration-300 hover:bg-indigo-700 hover:scale-[1.02] hover:shadow-lg">
          {/* You can add an Auth0 icon here if you like */}
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
          </svg>
          Sign in with Email/Password
        </a>

        {/* Optional: Add Google login button if you keep it */}
        <!--
        <a
          href="http://localhost:5000/auth/google"
          class="flex items-center justify-center gap-3 w-full py-3 px-6 bg-white text-gray-900 rounded-xl font-medium transition-all duration-300 hover:opacity-90 hover:scale-[1.02] hover:shadow-lg"
        >
           <svg class="w-6 h-6" viewBox="0 0 24 24"> ... Google SVG ... </svg>
          Continue with Google
        </a>
        -->
      </div>

      {/* Optional: Display error message if redirected from guard */}
       <script>
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
        if (error) {
          const errorDiv = document.createElement('div');
          errorDiv.className = 'mt-4 p-3 bg-red-900/50 border border-red-700 text-red-300 rounded-lg text-sm';
          errorDiv.textContent = `Login failed: ${error.replace(/_/g, ' ')}. Please try again.`;
          // Insert error message above the buttons or somewhere visible
          const buttonContainer = document.querySelector('.space-y-4');
          if (buttonContainer) {
              buttonContainer.parentNode.insertBefore(errorDiv, buttonContainer);
          }
        }
      </script>
    </div>
  </div>
</Layout>